<div>
  <form>
    <input type="text" id="search-input" placeholder="Search users..." />
  </form>
  <div id="search-results"></div>
</div>
<script>
  document
    .getElementById("search-input")
    .addEventListener("input", function (e) {
      const username = this.value;
      fetch(`profiles/search/?query=${username}`)
        .then((response) => response.json())
        .then((data) => {
          const results = document.getElementById("search-results");
          results.innerHTML = "";
          if (data.length > 0) {
            data.forEach((user) => {
              const userItem = document.createElement("div");
              userItem.textContent = user.username;
              results.appendChild(userItem);
            });
          }
        });
    });
</script>
